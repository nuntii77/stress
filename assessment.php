<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Radio Button</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assessment.css">
</head>
<body>
    <div class="form-section-wrapper">
        <div class="form-container">
        
        <h2>ยินดีต้อนรับสุ่แบบประเมินความเครียด กรมสุขภาพจิต (SPST-20)</h2>
        <h4>คำชี้แจง : ในระยะ 2 สัปดาห์ที่ผ่านมามีเหตุการณ์ในข้อใด เกิดขึ้นกับตัวคุณบ้าง และคุณมีความรู้สึกอย่างไร
ต่อเหตุการณ์นั้น ให้เลือกคำตอบนั้นลงในช่อง ตามระดับความเครียด </br> </br>

        ระดับความเครียด ๑
หมายถึง ไม่รู้สึกเครียด </br>
ระดับความเครียด ๒
หมายถึง รู้สึกเครียดเล็กน้อย </br>
ระดับความเครียด ๓
หมายถึง รู้สึกเครียดปานกลาง </br>
ระดับความเครียด ๔
หมายถึง รู้สึกเครียดมาก </br>
ระดับความเครียด ๕
หมายถึง รู้สึกเครียดมากที่สุด </h4>
        </div>
    
    <div class="form-container">
        
        <h2>1.กลัวทำงานผิดพลาด</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_1" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_1" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_1" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_1" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_1" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>

    <div class="form-container">
        <h2>2.ไปไม่ถึงเป้าหมายที่วางไว้</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_2" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_2" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_2" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_2" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_2" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        
        <h2>3.ครอบครัวมีความขัดแย้งกันในเรื่องเงินหรือเรื่องงานในบ้าน</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_3" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_3" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_3" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_3" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_3" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        <h2>4.เป็นกังวลกับเรื่องสารพิษหรือมลภาวะในอากาศ น้ำ เสียง และดิน</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_4" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_4" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_4" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_4" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_4" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        
        <h2>5.รู้สึกว่าต้องแข่งขันหรือเปรียบเทียบ</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_5" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_5" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_5" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_5" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_5" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>

    <div class="form-container">
        <h2>6.เงินไม่พอใช้จ่าย</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_6" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_6" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_6" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_6" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_6" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        
        <h2>7.กล้ามเนื้อตึงหรือปวด</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_7" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_7" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_7" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_7" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_7" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        <h2>8.ปวดหัวจากความตึงเครียด</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_8" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_8" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_8" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_8" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_8" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        
        <h2>9.ปวดหลัง</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_9" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_9" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_9" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_9" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_9" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>

    <div class="form-container">
        <h2>10.ความอยากอาหารเปลี่ยนแปลง</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_10" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_10" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_10" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_10" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_10" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        
        <h2>11.ปวดศีรษะข้างเดียว</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_11" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_11" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_11" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_11" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_11" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        <h2>12.รู้สึกวิตกกังวล</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_12" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_12" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_12" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_12" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_12" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        
        <h2>13.รู้สึกคับข้องใจ</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_13" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_13" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_13" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_13" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_13" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>

    <div class="form-container">
        <h2>14.รู้สึกโกรธ หรือหงุดหงิด</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_14" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_14" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_14" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_14" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_14" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        
        <h2>15.รู้สึกเศร้า</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_15" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_15" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_15" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_15" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_15" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        <h2>16.ความจำไม่ดี</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_16" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_16" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_16" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_16" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_16" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        
        <h2>17.รู้สึกสับสน</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_17" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_17" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_17" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_17" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_17" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>

    <div class="form-container">
        <h2>18.ตั้งสมาธิลำบาก</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_18" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_18" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_18" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_18" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_18" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        
        <h2>19.รู้สึกเหนื่อยง่าย</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_19" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_19" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_19" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_19" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_19" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
    </div>
    <div class="form-container">
        <h2>20.เป็นหวัดบ่อย ๆ</h2>
        
        <div class ='form-choice'>
            <label class="custom-radio"><input type="radio" name="question_20" value="1"> <span class="radiomark"></span> 1 ไม่รู้สึกเครียด</label>
            <label class="custom-radio"><input type="radio" name="question_20" value="2"> <span class="radiomark"></span> 2 รู้สึกเครียดเล็กน้อย</label>
            <label class="custom-radio"><input type="radio" name="question_20" value="3"> <span class="radiomark"></span> 3 รู้สึกเครียดปานกลาง</label>
            <label class="custom-radio"><input type="radio" name="question_20" value="4"> <span class="radiomark"></span> 4 รู้สึกเครียดมาก</label>
            <label class="custom-radio"><input type="radio" name="question_20" value="5"> <span class="radiomark"></span> 5 รู้สึกเครียดมากที่สุด</label>
        </div>
        
    </div>

   <button type="submit" class="submit-button" onclick="openPopup()">
    ยืนยันและส่งแบบประเมิน
</button>

<div id="submitPopup" class="popup-overlay">

    <div class="popup-content">
        <h2>✅ ส่งข้อมูลสำเร็จ!</h2>
        
        <div class="popup-message">
            <p>ข้อมูลของคุณถูกบันทึกเรียบร้อยแล้ว</p>
        
        </div>
        
        <button class="close-button"  onclick="closePopup()">กลับสู่หน้าหลัก</button>
        <button class="close-button"  onclick="scorePopup()">ดูผลคะแนน</button>
    </div>
</div>

<script>
    const popup = document.getElementById('submitPopup');

    function openPopup() {
        // เมื่อคลิกปุ่ม 'ยืนยันและส่งแบบประเมิน'
        // 1. คำนวณคะแนน
        const totalScore = calculateScore();
        
        // 2. แปลผลระดับความเครียดและดึงระดับออกมา (เช่น 'Severe', 'High')
        const { level: stressLevel } = interpretScore(totalScore); 
        
        // 3. ส่งข้อมูลไปบันทึกในฐานข้อมูลผ่าน PHP
        if (totalScore > 0) { // ตรวจสอบว่ามีการทำแบบสอบถามหรือไม่
            sendDataToDatabase(totalScore, stressLevel);
        }

        // แสดง Pop-up (✅ ส่งข้อมูลสำเร็จ!)
        popup.style.display = 'flex';
    }

    // ฟังก์ชันสำหรับส่งข้อมูลไปยังไฟล์ PHP
    function sendDataToDatabase(score, level) {
        // สร้าง object ข้อมูลที่จะส่ง
        const dataToSend = {
            total_score: score,
            stress_level: level
        };

        // ใช้ Fetch API เพื่อส่งข้อมูลแบบ POST ไปที่ไฟล์ save_score.php
        fetch('save_score.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json', // บอกว่าข้อมูลที่ส่งไปเป็น JSON
            },
            body: JSON.stringify(dataToSend), // แปลงข้อมูลเป็น JSON string
        })
        .then(response => response.json())
        .then(data => {
            console.log('Success:', data);
            // ถ้าบันทึกสำเร็จ อาจจะทำอะไรบางอย่างตรงนี้
        })
        .catch((error) => {
            console.error('Error:', error);
            alert('เกิดข้อผิดพลาดในการบันทึกข้อมูล กรุณาลองอีกครั้ง');
        });
    }

    function calculateScore() {
        let score = 0;
        let answeredQuestions = 0; // เพิ่มตัวนับคำถามที่ตอบแล้ว
        for (let i = 1; i <= 20; i++) {
            const selectedOption = document.querySelector(`input[name="question_${i}"]:checked`);
            if (selectedOption) {
                score += parseInt(selectedOption.value);
                answeredQuestions++;
            }
        }
        
        // ตรวจสอบว่าตอบครบ 20 ข้อหรือไม่ 
        if (answeredQuestions < 20) {
             alert(`กรุณาตอบแบบสอบถามให้ครบทั้ง 20 ข้อ (ตอบแล้ว ${answeredQuestions}/20)`);
             return 0; // คืนค่า 0 เพื่อป้องกันการบันทึกข้อมูลที่ไม่สมบูรณ์
        }

        return score;
    }

    // แก้ไขฟังก์ชันแปลผลให้คืนค่าเป็น Object เพื่อให้เรียกใช้ได้ง่ายขึ้น
    function interpretScore(score) {
        let level = '';
        let message = '';

        if (score >= 63) {
            level = 'Severe'; // ใช้ชื่อระดับเป็นภาษาอังกฤษเพื่อให้ง่ายต่อการเก็บใน DB
            message = 'ระดับความเครียดของคุณอยู่ในระดับรุนแรง...';
        } else if (score >= 43) {
            level = 'High';
            message = 'คุณมีความเครียดในระดับสูง...';
        } else if (score >= 25) {
            level = 'Moderate';
            message = 'คุณมีความเครียดในระดับปานกลาง...';
        } else { // 0 - 24
            level = 'Mild/None';
            message = 'คุณมีความเครียดอยู่ในระดับน้อย...';
        }

        // เราจะเก็บ score และ level ใน localStorage เพื่อให้ score.php ดึงไปแสดงผลต่อ
        localStorage.setItem('spst20_score', score);
        localStorage.setItem('spst20_level_th', level + ' (' + message + ')');

        return { score, level, message };
    }
    
    // ฟังก์ชันเดิม: เมื่อคลิก 'กลับสู่หน้าหลัก'
    function closePopup() {
        popup.style.display = 'none';
        window.location.href = 'index.php'; 
    }

    // ฟังก์ชันใหม่: เมื่อคลิก 'ดูผลคะแนน'
    function scorePopup() {
        popup.style.display = 'none';
        // ข้อมูลถูกเตรียมไว้ใน localStorage แล้ว เปลี่ยนหน้าไปแสดงผลเลย
        window.location.href = 'score1.php'; 
    }
    
    // ปิด Pop-up เมื่อคลิกนอกพื้นที่ Pop-up (คงไว้ตามเดิม)
    window.onclick = function(event) {
        if (event.target === popup) {
            // closePopup(); // ถ้าใช้ scorePopup() จะไม่มีการปิด Pop-up ทันที
        }
    }

    window.onclick = function(event) {
        if (event.target === popup) {
            // ไม่ต้องทำอะไร
        }
    }
</script>
    </div>

    

</body>
</html>